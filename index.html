<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Invoice Management</title>
  <link rel="stylesheet" href="./css/styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/81f487b25f.js" crossorigin="anonymous"></script>
  <script src="./scripts/dashboard.js"></script>
  <script src="./scripts/invoice.js"></script>
  <script src="https://unpkg.com/pdf-lib"></script>
  <script src="https://unpkg.com/@pdf-lib/fontkit@0.0.4"></script>
  <script src="https://unpkg.com/downloadjs@1.4.7"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
  <!-- Dashboard Menu -->
  <header class="global-sidebar">
    <div class="header">
      <img src="./images/invoisync.png" alt="InvoiSync" />
      <h1>InvoiSync</h1>
    </div>
    <nav class="menu-sidebar">
      <ul>
        <li class="active">
          <a href="#">
            <i class="fas fa-tachometer-alt"></i>
            <span>Dashboard</span>
          </a>
        </li>
        <li>
          <a href="#">
            <i class="fa-solid fa-users"></i>
            <span>Client</span>
          </a>
        </li>
        <li>
          <a href="#">
            <i class="fa-solid fa-file-invoice"></i>
            <span>Invoice</span>
          </a>
        </li>
        <li>
          <a href="#">
            <i class="fa-solid fa-chart-simple"></i>
            <span>Estimate</span>
          </a>
        </li>
      </ul>
    </nav>
  </header>

  <!-- Main Content -->
  <main>
    <div id="dashboard" class="page">
      <section class="home">
        <h2>Welcome to Your Dashboard</h2>
        <!-- Search Icon -->
        <div id="search-container">
          <div id="search-box">
            <i class="fa-solid fa-magnifying-glass"></i>
            <input type="text" placeholder="Search" />
          </div>
          <img src="./images/company-logo.jpg" alt="daniel mendez landscaping logo" />
        </div>
      </section>

      <section class="overview">
        <div class="overview-container">
          <article class="overview-card">
            <div class="icon-container" style="background: lightgreen;">
              <i class="fa-solid fa-arrow-up-right-dots" style="color: green;"></i>
            </div>
            <div class="info-container">
              <h3>Monthly Revenue</h3>
              <div class="overview-details">
                <i class="fa-solid fa-dollar-sign"></i>
                <p id="monthly-revenue">0.00</p>
              </div>
            </div>
          </article>
          <article class="overview-card">
            <div class="icon-container" style="background: lightgoldenrodyellow;">
              <i class="fa-solid fa-chart-simple" style="color: orange;"></i>
            </div>
            <div class="info-container">
              <h3>Estimates Revenue</h3>
              <div class="overview-details">
                <i class="fa-solid fa-dollar-sign"></i>
                <p id="estimate-total">0.00</p>
              </div>
            </div>
          </article>
          <article class="overview-card">
            <div class="icon-container" style="background: lightblue;">
              <i class="fa-solid fa-users" style="color: blue;"></i>
            </div>
            <div class="info-container">
              <h3>Total Clients</h3>
              <div class="overview-details">
                <p id="total-client">0</p>
              </div>
            </div>
          </article>
          <article class="overview-card">
            <div class="icon-container" style="background: lightpink;">
              <i class="fa-solid fa-list" style="color: red;"></i>
            </div>
            <div class="info-container">
              <h3>Unpaid Clients</h3>
              <div class="overview-details">
                <p id="unpaid-client">0.00</p>
              </div>
            </div>
          </article>
        </div>
        <div class="progress-menu">
          <div id="progress-header">
            <h2>Summary</h2>
            <p>Total Invoice Generated 0</p>
          </div>
          <div class="skill">
            <div class="outer">
              <div class="inner">
                <div id="number"></div>
              </div>
            </div>
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="160px" height="160px">
              <defs>
                <lineargradient id="GradientColor">
                  <stop offset="0%" stop-color="#84a98c" />
                  <stop offset="100%" stop-color="#52796f" />
                </lineargradient>
              </defs>
              <circle cx="80" cy="80" r="70" stroke-linecap="round" />
            </svg>
          </div>
          <div id="progress-legend">
            <div class="legend-item">
              <span class="legend-color" style="background-color: #52796f;"></span>
              <span class="legend-description">Total Paid</span>
            </div>
          </div>
        </div>
        <div class="quick-menu">
          <h2>Quick Menu</h2>
          <div id="action-container">
            <button id="add-invoice">Create Invoice</button>
            <button>Create Estimate</button>
          </div>
        </div>
      </section>

      <section class="client">
        <article id="client-data">
          <div class="table-header">
            <h2>Client Data</h2>
            <button id="add-client">Add Client</button>
          </div>

          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Description</th>
                  <th>Amount</th>
                  <th>Status</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody id="client-table-body">
                <!-- Client rows will be added here -->
              </tbody>
            </table>
          </div>
        </article>
      </section>

      <div id="client-popup">
        <form>
          <button id="close-button" aria-label="Close alert" type="button">
            <span aria-hidden="true">&times;</span>
          </button>
          <label for="name">Name:</label><br />
          <input type="text" id="name" name="fname" /><br />
          <label for="address">Address:</label><br />
          <input type="text" id="address" name="address" /><br />
          <label for="city">City/Zipcode</label><br />
          <input type="text" id="city" name="city/zipcode" /><br />

          <label for="amount">Amount:</label><br />
          <input type="number" id="amount" name="amount" /><br />

          <label for="status"></label>
          <select name="text" id="status">
            <option>Paid</option>
            <option>Due</option>
          </select>

          <br /><br />
          <input type="submit" value="Submit" />
          <button id="delete-button" aria-label="Close alert" type="button">
            <span aria-hidden="true">Delete</span>
          </button>
        </form>
      </div>

      <div id="invoice-popup">
        <form>
          <button id="invoice-close-button" aria-label="Close alert" type="button">
            <span aria-hidden="true">&times;</span>
          </button>
          <div class="column">
            <select id="clientSelect"></select>
            <label for="rateService">Quantity:</label>
            <input type="number" id="rateService" name="Rate" />
          </div>

          <div id="container-details">
            <div class="column">
              <label for="trim">Trim:</label>
              <input type="number" id="trim" name="Trim" />
              <label for="cleanUp">Clean-up:</label>
              <input type="number" id="cleanUp" name="Clean-Up" />
              <label for="irrigation">Irrigation:</label>
              <input type="number" id="irrigation" name="Irrigation" />
              <label for="plant">Plants:</label>
              <input type="number" id="plant" name="Plant" />
              <label for="other">Other:</label>
              <input type="number" id="other" name="other" />
            </div>
            <div class="column">
              <label for="rateTrim">Quantity:</label>
              <input type="number" id="rateTrim" name="Rate" />
              <label for="rateCleanUp">Quantity:</label>
              <input type="number" id="rateCleanUp" name="Rate" />
              <label for="rateIrrigation">Quantity:</label>
              <input type="number" id="rateIrrigation" name="Rate" />
              <label for="ratePlants">Quantity:</label>
              <input type="number" id="ratePlants" name="Rate" />
              <label for="rateOther">Quantity:</label>
              <input type="number" id="rateOther" name="Rate" />
            </div>
          </div>

          <input type="submit" value="Submit" />
        </form>
      </div>
    </div>
    <div id="client" class="page" style="display: none;">
      <h1>TEST</h1>
    </div>

    <div id="invoice" class="page" style="display: none;">
      <h1>INVOICE</h1>
    </div>

    <div id="estimate" class="page" style="display: none;">
      <!-- Estimate HTML goes here -->
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const menuItems = document.querySelectorAll('.menu-sidebar a');

        menuItems.forEach((item, index) => {
          item.addEventListener('click', (e) => {
            e.preventDefault();

            document.querySelectorAll('.menu-sidebar li').forEach(li => {
              li.classList.remove('active');
            });

            item.closest('li').classList.add('active');
            document.querySelectorAll('.page').forEach(page => {
              page.style.display = 'none';
            });

            const sections = ['dashboard', 'client', 'invoice', 'estimate'];
            document.getElementById(sections[index]).style.display = 'block';
          });
        });
      });
    </script>
  </main>
</body>

</html>